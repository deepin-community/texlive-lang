\documentclass{report}
\usepackage{fontspec}
\setmainfont[Script=Arabic,Language=Persian]{HM XKayhan}
\setfontfamily\HMXKayhanEn[Scale=1.5,Colour=0000FF]{HM XKayhan}
\setfontfamily\HMXKayhanRm[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan}
\setfontfamily\HMXKayhanIt[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Italic}
\setfontfamily\HMXKayhanOb[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhanOb Oblique}
\setfontfamily\HMXKayhanOl[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Outline}
\setfontfamily\HMXKayhanSd[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Shadow}
\setfontfamily\HMXKayhanPo[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Pook}
\setfontfamily\HMXKayhanSa[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Sayeh}
\setfontfamily\HMXKayhanNa[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Navaar}

\def\LtoR{\pagedir TLT \bodydir TLT \pardir TLT \textdir TLT}
\def\RtoL{\pagedir TRT \bodydir TRT \pardir TRT \textdir TRT}

\def\SampleText{\RtoL
  راهی جایی تابی چاپی چاههی  
  شتابهایی تابی چاپی راهی تلاشهــایی 
  که کتابهایی که کلاههایی که کتابهایی }

\def\SampleTitle#1#2#3{{\large\LtoR Engine: {\color{blue}\texttt{#1}}, \\
     Style: {\color{blue}\texttt{#2}}, \\ Kashida: {\color{blue}\texttt{#3}}}\hbox{}\vskip 5mm}

\pretolerance = 10000
% \exhyphenpenalty=10000
% \hyphenpenalty=10000
% \penalty -10000
% \tolerance=10000
% \tolerance  = -10000
% \looseness = 10000

\setlength\parindent{0pt}
% \pagestyle{empty}
\setcounter{page}{46}

\usepackage[Minimal=On,Kashida=leaders+hrule,kashidastretch=0.14 em plus 0.5 em,hboxrecursion=On,vboxrecursion=On,color=red]{texnegar}

\begin{document}

{\LtoR\HMXKayhanEn
\begin{center}
{\Huge\textsf{\TeXNegar} \\
 \vspace{20pt}Example of Use \\
 \vspace{20pt}\texttt{Engine: LuaTeX {\normalsize using texnegar}} \\
 \vspace{20pt}\texttt{Kashida=leaders+hrule}} \\
 \vspace{20pt}\makebox{\textsf{File:} \texttt{TEXMFDIST/doc/latex/texnegar/texnegar-luatex-leaders-hrule.tex}}
 \vspace{20pt}

{\Large
\begin{tabular}{ll}
  \textsf{Font:} & \textsf{HM XKayhan} \\
  \textsf{Font Scale:} & \texttt{4.5} \\
  \textsf{linebreakpenalty:} & \texttt{8} \\
  \textsf{kashidastretch:} & \texttt{0.14em plus 5.5em} \\
  \textsf{hboxrecursion:} & \texttt{On} \\
  \textsf{vboxrecursion:} & \texttt{On} \\
  \textsf{color:} &  \texttt{red}
\end{tabular}
}
\end{center}
}

\newpage \KashidaOff \SampleTitle{LuaTeX using texnegar}{Regular}{Off}                 \par {\HMXKayhanRm \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Regular}{leaders+hrule (On)}  \par {\HMXKayhanRm \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Italic}{leaders+hrule  (On)}  \par {\HMXKayhanIt \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Oblique}{leaders+hrule (On)}  \par {\HMXKayhanOb \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Outline}{leaders+hrule (On)}  \par {\HMXKayhanOl \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Shadow}{leaders+hrule  (On)}  \par {\HMXKayhanSd \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Pook}{leaders+hrule    (On)}  \par {\HMXKayhanPo \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Sayeh}{leaders+hrule   (On)}  \par {\HMXKayhanSa \SampleText}

\newpage \KashidaOn  \SampleTitle{LuaTeX using texnegar}{Navaar}{leaders+hrule  (On)}  \par {\HMXKayhanNa \SampleText}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
