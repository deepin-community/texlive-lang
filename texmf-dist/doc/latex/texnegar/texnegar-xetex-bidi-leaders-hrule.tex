\documentclass{report}

\usepackage{fontspec}

\setmainfont[Script=Arabic,Language=Persian]{HM XKayhan}

\setfontfamily\HMXKayhanEn[Scale=1.5,Colour=0000FF]{HM XKayhan}
\setfontfamily\HMXKayhanRm[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan}
\setfontfamily\HMXKayhanIt[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Italic}
\setfontfamily\HMXKayhanOb[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhanOb Oblique}
\setfontfamily\HMXKayhanOl[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Outline}
\setfontfamily\HMXKayhanSd[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Shadow}
\setfontfamily\HMXKayhanPo[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Pook}
\setfontfamily\HMXKayhanSa[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Sayeh}
\setfontfamily\HMXKayhanNa[Script=Arabic,Language=Persian,Scale=4.5]{HM XKayhan Navaar}

\usepackage[Minimal=On,Kashida=leaders+hrule,linebreakpenalty=8,kashidastretch=0.14 em plus 0.5 em,color=red]{texnegar}  % Succeeds

\usepackage{bidi}

\def\SampleText#1#2{{\setRTL\discouragebadlinebreaks[#1][#2]{
  راهی جایی تابی چاپی چاههی تلاشهایی
  شتابهایی تابی چاپی راهی تلاشهــایی
  که کتابهایی که کلاههایی که کتابهایی }\unsetRTL}}

\def\SampleTitle#1#2#3{{\large Engine: {\color{blue}\texttt{#1}}, \\
     Style: {\color{blue}\texttt{#2}}, \\ Kashida: {\color{blue}\texttt{#3}}}\hbox{}\vskip 5mm}

\pretolerance = 10000
% \exhyphenpenalty=10000
% \hyphenpenalty=10000
% \penalty 10000
% \tolerance=10000
% \tolerance  = -10000
% \looseness = 10000

\setlength\parindent{0pt}
% \pagestyle{empty}
\setcounter{page}{76}

\begin{document}

{
\begin{center}
{\HMXKayhanEn
 \Huge{\textsf{\TeXNegar} \\
 \vspace{20pt} Example of Use \\
 \vspace{20pt}\texttt{Engine: XeTeX {\normalsize using texnegar and bidi}} \\
 \vspace{20pt} \texttt{Kashida=leaders+hrule}} \\
 \vspace{20pt}\makebox{\normalsize\textsf{File:} \texttt{TEXMFDIST/doc/latex/texnegar/texnegar-xetex-bidi-leaders-hrule.tex}} \\
 \vspace{20pt}
}

{\Large
\begin{tabular}{ll}
  \textsf{Font:} & \textsf{HM XKayhan} \\
  \textsf{Font Scale:} & \texttt{4.5} \\
  \textsf{linebreakpenalty:} & \texttt{8} \\
  \textsf{kashidastretch:} & \texttt{0.14em plus 5.5em} \\
  \textsf{hboxrecursion:} & \texttt{On} \\
  \textsf{vboxrecursion:} & \texttt{On} \\
  \textsf{color:} &  \texttt{red}
\end{tabular}
}
\end{center}
}

\newpage \KashidaOff \SampleTitle{XeTeX using texnegar and bidi}{Regular}{Off}                 \par {\HMXKayhanRm \SampleText{8}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Regular}{leaders+hrule (On)}  \par {\HMXKayhanRm \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Italic}{leaders+hrule  (On)}  \par {\HMXKayhanIt \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Oblique}{leaders+hrule (On)}  \par {\HMXKayhanOb \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Outline}{leaders+hrule (On)}  \par {\HMXKayhanOl \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Shadow}{leaders+hrule  (On)}  \par {\HMXKayhanSd \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Pook}{leaders+hrule    (On)}  \par {\HMXKayhanPo \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Sayeh}{leaders+hrule   (On)}  \par {\HMXKayhanSa \SampleText{200}{0.14 em plus 0.5 em}}

\newpage \KashidaOn  \SampleTitle{XeTeX using texnegar and bidi}{Navaar}{leaders+hrule  (On)}  \par {\HMXKayhanNa \SampleText{200}{0.14 em plus 0.5 em}}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
