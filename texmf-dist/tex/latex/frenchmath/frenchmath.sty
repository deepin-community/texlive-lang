%%
%% This is file `frenchmath.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% frenchmath.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2019-2024 by Antoine Missier <antoine.missier@ac-toulouse.fr>
%% 
%% This file may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, either version 1.3 of this license
%% or (at your option) any later version. The latest version of this
%% license is in:
%% 
%% http://www.latex-project.org/lppl.txt
%% 
%% and version 1.3 or later is part of all distributions of LaTeX version
%% 2005/12/01 or later.
%% 
\NeedsTeXFormat{LaTeX2e}[2005/12/01]
\ProvidesPackage{frenchmath}
    [2024/01/22 v2.8 .dtx frenchmath file]
\newif\ifcapsit
\DeclareOption{capsit}{\capsittrue}
\newif\iffrenchmathgreek % pour sauvegarder les lettres d'origine
\newif\iflgrmath
\DeclareOption{lgrmath}{\lgrmathtrue\frenchmathgreektrue}
\newif\ifupgreek
\DeclareOption{upgreek}{\upgreektrue\frenchmathgreektrue}
\newif\ifUpgreek
\DeclareOption{Upgreek}{\Upgreektrue\upgreektrue\frenchmathgreektrue}
\newif\ifnoibrackets
\DeclareOption{noibrackets}{\noibracketstrue}
\ProcessOptions \relax

\AtBeginDocument{
    \@ifpackageloaded{mathdesign}{
        \PackageInfo{frenchmath}{Package mathdesign
            is loaded, \MessageBreak
            I don't load mathrsfs and amssymb packages}
    }{
        \RequirePackage{amssymb} % \leqslant, \geqslant, \varnothing
        \@ifundefined{mathscr}{\RequirePackage{mathrsfs}}{}
    }
}
\RequirePackage{amsopn} % fournit \DeclareMathOperator
\@ifpackageloaded{mathptmx}{\RequirePackage{dotlessj}}{}

\AtBeginDocument{
  \iflgrmath
    \@ifpackageloaded{lgrmath}{}{
        \RequirePackage[font=fcm,style=french]{lgrmath}}
  \fi
  \ifupgreek
    \@ifpackageloaded{upgreek}{}{
        \RequirePackage[Symbol]{upgreek}}
  \fi
}
\RequirePackage{xspace} % utile pour les commandes \ssi, \Oij
\ifnoibrackets\else\RequirePackage{ibrackets}\fi % intelligent brackets

\RequirePackage{decimalcomma} %  depuis frenchmath 2.7

\newcommand*\DeclareMathUp[1]{
    \DeclareMathSymbol{#1}{\mathalpha}{operators}{`#1}}

\def\apply#1#2{\apply@#1#2,\apply@,}
\def\apply@#1#2,{\ifx\apply@#2\empty
    \else #1{#2}\afterfi@{\apply@#1}\fi}
\def\afterfi@#1#2\fi{\fi#1}

\ifcapsit\else
  \AtBeginDocument{
    \apply\DeclareMathUp{A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z}
  }
\fi

\AtBeginDocument{\@ifpackageloaded{pstricks-add}{\psset{comma=true}}{}}
\DeclareMathSymbol{;}{\mathbin}{operators}{'73} % \mathpunct à l'origine

\newcommand\curs{\mathscr}
\newcommand\infeg{\leqslant}
\newcommand\supeg{\geqslant}
\newcommand\vide{\varnothing}
\newcommand\paral{\mathrel{\ooalign{$\mkern-1.75mu/\mkern1.75mu$\cr%
    $\mkern1.75mu/\mkern-1.75mu$}}}
\newcommand\ssi{si, et seulement si,\xspace}
\newcommand*\cmod[1]{\quad[#1]}

\DeclareMathOperator{\pgcd}{pgcd}
\DeclareMathOperator{\ppcm}{ppcm}
\DeclareMathOperator{\card}{card}
\DeclareMathOperator{\Card}{Card}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\rg}{rg}
\DeclareMathOperator{\Vect}{Vect}
\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\sh}{sh}
\AtBeginDocument{\let\oldth\th %\th existe déjà (mode texte)
    \renewcommand\th{\TextOrMath{\oldth}{\operatorname{th}}}}
\DeclareMathOperator{\cosec}{cosec}
\DeclareMathOperator{\cosech}{cosech}

\newcommand\@Oij{%
    \ensuremath{\left(O, \vec{\imath}, \vec{\jmath}\,\right)}\xspace}
\newcommand\@@Oij{%
    \ensuremath{\left(O ; \vec{\imath}, \vec{\jmath}\,\right)}\xspace}
\newcommand\Oij{\@ifstar{\@@Oij}{\@Oij}}

\newcommand\@Oijk{%
    \ensuremath{%
        \left(O, \vec{\vphantom{t}\imath}, \vec{\vphantom{t}\jmath},
        \vec{\vphantom{t}\smash{k}}\,\right)}%
    \xspace}
\newcommand\@@Oijk{%
    \ensuremath{%
        \left(O ; \vec{\vphantom{t}\imath}, \vec{\vphantom{t}\jmath},
        \vec{\vphantom{t}\smash{k}}\,\right)}%
    \xspace}
\newcommand\Oijk{\@ifstar{\@@Oijk}{\@Oijk}}

\newcommand\@Ouv{%
    \ensuremath{\left(O, \vec{u}, \vec{v}\,\right)}\xspace}
\newcommand\@@Ouv{%
    \ensuremath{\left(O ; \vec{u}, \vec{v}\,\right)}\xspace}
\newcommand\Ouv{\@ifstar{\@@Ouv}{\@Ouv}}

\AtBeginDocument{
    \renewcommand\ij{%
        \ensuremath{\left(\vec{\imath}, \vec{\jmath}\,\right)}\xspace}}
\newcommand\ijk{%
    \ensuremath{%
        \left(\vec{\vphantom{t}\imath}, \vec{\vphantom{t}\jmath},
        \vec{\vphantom{t}\smash{k}}\,\right)}%
    \xspace}

\iffrenchmathgreek
    \@ifundefined{italpha}{\let\italpha\alpha}{
        \PackageWarningNoLine{frenchmath}{Command
            \string\italpha\space already exist \MessageBreak
            and will not be redefined, \MessageBreak
            no more warning for the other Greek letters, \MessageBreak
            except pi}
    }
    \@ifundefined{itbeta}{\let\itbeta\beta}{}
    \@ifundefined{itgamma}{\let\itgamma\gamma}{}
    \@ifundefined{itdelta}{\let\itdelta\delta}{}
    \@ifundefined{itepsilon}{\let\itepsilon\epsilon}{}
    \@ifundefined{itzeta}{\let\itzeta\zeta}{}
    \@ifundefined{iteta}{\let\iteta\eta}{}
    \@ifundefined{ittheta}{\let\ittheta\theta}{}
    \@ifundefined{itiota}{\let\itiota\iota}{}
    \@ifundefined{itkappa}{\let\itkappa\kappa}{}
    \@ifundefined{itlambda}{\let\itlambda\lambda}{}
    \@ifundefined{itmu}{\let\itmu\mu}{}
    \@ifundefined{itnu}{\let\itnu\nu}{}
    \@ifundefined{itxi}{\let\itxi\xi}{}
    \@ifundefined{itpi}{\let\itpi\pi}{
       \PackageWarningNoLine{frenchmath}{Command
            \string\itpi\space already exist \MessageBreak
            and will not be redefined}
    }
    \@ifundefined{itrho}{\let\itrho\rho}{}
    \@ifundefined{itsigma}{\let\itsigma\sigma}{}
    \@ifundefined{ittau}{\let\ittau\tau}{}
    \@ifundefined{itupsilon}{\let\itupsilon\upsilon}{}
    \@ifundefined{itphi}{\let\itphi\phi}{}
    \@ifundefined{itchi}{\let\itchi\chi}{}
    \@ifundefined{itpsi}{\let\itpsi\psi}{}
    \@ifundefined{itomega}{\let\itomega\omega}{}
    \@ifundefined{itvarepsilon}{\let\itvarepsilon\varepsilon}{}
    \@ifundefined{itvartheta}{\let\itvartheta\vartheta}{}
    \@ifundefined{itvarpi}{\let\itvarpi\varpi}{}
    \@ifundefined{itvarsigma}{\let\itvarsigma\varsigma}{}
    \@ifundefined{itvarphi}{\let\itvarphi\varphi}{}
\fi

\AtBeginDocument{
  \ifupgreek
    \renewcommand\alpha{\upalpha}
    \renewcommand\beta{\upbeta}
    \renewcommand\gamma{\upgamma}
    \renewcommand\delta{\updelta}
    \renewcommand\epsilon{\upepsilon}
    \renewcommand\zeta{\upzeta}
    \renewcommand\eta{\upeta}
    \renewcommand\theta{\uptheta}
    \renewcommand\iota{\upiota}
    \renewcommand\kappa{\upkappa}
    \renewcommand\lambda{\uplambda}
    \renewcommand\mu{\upmu}
    \renewcommand\nu{\upnu}
    \renewcommand\xi{\upxi}
    \renewcommand\pi{\uppi}
    \renewcommand\rho{\uprho}
    \renewcommand\sigma{\upsigma}
    \renewcommand\tau{\uptau}
    \renewcommand\upsilon{\upupsilon}
    \renewcommand\phi{\upphi}
    \renewcommand\chi{\upchi}
    \renewcommand\psi{\uppsi}
    \renewcommand\omega{\upomega}
    \renewcommand\varepsilon{\upvarepsilon}
    \renewcommand\vartheta{\upvartheta}
    \renewcommand\varpi{\upvarpi}
    \renewcommand\varrho{\upvarrho}
    \renewcommand\varsigma{\upvarsigma}
    \renewcommand\varphi{\upvarphi}
  \fi

  \ifUpgreek
    \renewcommand\Gamma{\Upgamma}
    \renewcommand\Delta{\Updelta}
    \renewcommand\Theta{\Uptheta}
    \renewcommand\Lambda{\Uplambda}
    \renewcommand\Xi{\Upxi}
    \renewcommand\Pi{\Uppi}
    \renewcommand\Sigma{\Upsigma}
    \renewcommand\Upsilon{\Upupsilon}
    \renewcommand\Phi{\Upphi}
    \renewcommand\Psi{\Uppsi}
    \renewcommand\Omega{\Upomega}
  \fi
}

\endinput
%%
%% End of file `frenchmath.sty'.
